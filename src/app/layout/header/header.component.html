<!--<div class="route-loader" *ngIf="{ loading: loading$ | async } as route">-->
<!--  <mat-progress-bar-->
<!--    *ngIf="route.loading"-->
<!--    color="accent"-->
<!--    mode="indeterminate"-->
<!--  ></mat-progress-bar>-->
<!--</div>-->
<mat-toolbar
  class="mat-elevation-z6"
  role="heading"
  color="primary"
  *ngIf="{ details: user$ | async } as user"
>
  <button
    mat-icon-button
    class="app-menu"
    *ngIf="!!user.details"
    (click)="toggleSidenav.emit()"
  >
    <mat-icon>menu</mat-icon>
  </button>
  <a class="logo" href="#" routerLink="/">
    <img alt="IFT-MIS" class="logo-img" src="assets/img/logo2.png" />
  </a>
  <span class="iftmis__title">IFT-<span>MIS</span> </span>
  <span class="spacer"></span>
  <mat-nav-list class="nav-links">
    <button
      *ngIf="!!user.details"
      mat-icon-button
      class="app-account nav-links__item"
      [matMenuTriggerFor]="primaryMenu"
    >
      <mat-icon>apps</mat-icon>
    </button>
    <mat-menu #primaryMenu="matMenu">
      <button
        mat-menu-item
        class="app-logout"
        routerLink="/main/user-management"
      >
        <mat-icon>people</mat-icon>
        <span>User Management</span>
      </button>
      <button mat-menu-item class="app-logout" routerLink="/main/settings">
        <mat-icon>settings</mat-icon>
        <span>Settings</span>
      </button>
      <button
        mat-menu-item
        class="app-logout"
        routerLink="/main/risk-management"
      >
        <mat-icon>error</mat-icon>
        <span>Risk Management</span>
      </button>
      <button
        mat-menu-item
        class="app-logout"
        routerLink="/main/inspection-planning"
      >
        <mat-icon>subject</mat-icon>
        <span>Inspection Planning</span>
      </button>
      <button mat-menu-item routerLink="/main/inspections">
        <mat-icon>visibility</mat-icon>
        <span>Inspection</span>
      </button>
      <button
        mat-menu-item
        class="app-logout"
        routerLink="/main/finding-management"
      >
        <mat-icon>feedback</mat-icon>
        <span>Finding Management</span>
      </button>
      <button mat-menu-item class="app-logout" routerLink="/main/report">
        <mat-icon>picture_as_pdf</mat-icon>
        <span>Report</span>
      </button>
    </mat-menu>

    <button
      *ngIf="!!user.details"
      mat-icon-button
      class="app-account nav-links__item"
      [matMenuTriggerFor]="userMenu"
    >
      <mat-icon>account_circle</mat-icon>
    </button>
    <mat-menu #userMenu="matMenu">
      <button mat-menu-item class="app-logout" (click)="logout()">
        <mat-icon>account_circle</mat-icon>
        <span>Account Profile</span>
      </button>

      <button mat-menu-item class="app-logout" (click)="logout()">
        <mat-icon>logout</mat-icon>
        <span>Sign Out</span>
      </button>
    </mat-menu>
  </mat-nav-list>
</mat-toolbar>
